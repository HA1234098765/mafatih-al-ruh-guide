# ๐๏ธ ุฏููู ุชุทุจูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุชูุงููุฉ ููุดุฑูุน ููุงุชูุญ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุดุงููุฉ ููุชูุงููุฉ ููุดุฑูุน **ููุงุชูุญ - ูุณุงุนุฏ ุงููุณูู ุงูุฐูู ุงูุดุงูู** ุชุญุชูู ุนูู ุฌููุน ุงูุฌุฏุงูู ูุงูุจูุงูุงุช ุงููุทููุจุฉ ูุฏุนู ุฌููุน ูุงุฌูุงุช ูููููุงุช ุงูุชุทุจูู.

## ๐ฏ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ **ุดููููุฉ ูุงููุฉ**
- **25+ ุฌุฏูู** ูุบุทู ุฌููุน ุงุญุชูุงุฌุงุช ุงูุชุทุจูู
- **ุจูุงูุงุช ุฅุณูุงููุฉ ููุซูุฉ** (ูุฑุขูุ ุฃุญุงุฏูุซุ ูุชุงููุ ุฃุฐูุงุฑ)
- **ุชุชุจุน ุดุงูู** ููุฃูุดุทุฉ ูุงูุชูุฏู
- **ูุธุงู ููุงุท ููุณุชููุงุช** ูุชูุฏู

### โ **ุฃุฏุงุก ูุญุณู**
- **ููุงุฑุณ ูุชูุฏูุฉ** ูุฌููุน ุงูุงุณุชุนูุงูุงุช
- **ุจุญุซ ูุตู ุนุฑุจู** ูุญุณู
- **ุชุฎุฒูู ูุคูุช** ุฐูู
- **ุงุณุชุนูุงูุงุช ูุญุณูุฉ**

### โ **ุฃูุงู ูุชูุฏู**
- **Row Level Security** ูุญูุงูุฉ ุงูุจูุงูุงุช
- **ุณูุงุณุงุช ุฃูุงู** ูุฎุตุตุฉ
- **ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ**
- **ุชุญูู ูู ุงูุตูุงุญูุงุช**

## ๐ ุฎุทูุงุช ุงูุชุทุจูู

### 1. **ุฅูุดุงุก ูุดุฑูุน Supabase ุฌุฏูุฏ**

```bash
# ุงูุชูู ุฅูู https://supabase.com
# ุฃูุดุฆ ุญุณุงุจ ุฌุฏูุฏ ุฃู ุณุฌู ุฏุฎูู
# ุงุถุบุท ุนูู "New Project"
# ุงุฎุชุฑ ุงุณู ุงููุดุฑูุน: "mafatih-islamic-assistant"
# ุงุฎุชุฑ ูููุฉ ูุฑูุฑ ูููุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช
# ุงุฎุชุฑ ุงูููุทูุฉ ุงูุฃูุฑุจ ูู
```

### 2. **ุชุดุบูู ุณูุฑูุจุช ูุงุนุฏุฉ ุงูุจูุงูุงุช**

```sql
-- ุงูุณุฎ ูุญุชูู ููู MAFATIH_COMPLETE_DATABASE_SCHEMA.sql
-- ุงูุชูู ุฅูู Supabase Dashboard > SQL Editor
-- ุงูุตู ุงูุณูุฑูุจุช ูุงููุงู
-- ุงุถุบุท ุนูู "Run" ูุชูููุฐ ุงูุณูุฑูุจุช
```

### 3. **ุงูุชุญูู ูู ุฅูุดุงุก ุงูุฌุฏุงูู**

```sql
-- ุชุญูู ูู ุงูุฌุฏุงูู ุงูููุดุฃุฉ
SELECT table_name, table_type 
FROM information_schema.tables 
WHERE table_schema = 'public' 
ORDER BY table_name;

-- ูุฌุจ ุฃู ุชุฑู 25+ ุฌุฏูู
```

### 4. **ุชูููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ**

```env
# ุฃุถู ูุฐู ุงููุชุบูุฑุงุช ุฅูู ููู .env
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
VITE_SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
```

## ๐ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ๐น **ุฌุฏุงูู ุงููุณุชุฎุฏููู (4 ุฌุฏุงูู)**
```sql
users                    -- ุงููุณุชุฎุฏููู ุงูุฃุณุงุณู
user_settings           -- ุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏู
user_prayer_times       -- ุฃููุงุช ุงูุตูุงุฉ ุงููุฎุตุตุฉ
user_goals              -- ุงูุฃูุฏุงู ุงูุดุฎุตูุฉ
```

### ๐น **ุฌุฏุงูู ุงููุญุชูู ุงูุฅุณูุงูู (6 ุฌุฏุงูู)**
```sql
quran_verses            -- ุขูุงุช ุงููุฑุขู ุงููุฑูู
hadith_data             -- ุงูุฃุญุงุฏูุซ ุงูุดุฑููุฉ
islamic_questions       -- ุงูุฃุณุฆูุฉ ุงูุดุฑุนูุฉ
fatawa                  -- ุงููุชุงูู
azkar_data              -- ุงูุฃุฐูุงุฑ ูุงูุฃุฏุนูุฉ
allah_names             -- ุฃุณูุงุก ุงููู ุงูุญุณูู
```

### ๐น **ุฌุฏุงูู ุงูุชุชุจุน ูุงูุฅุญุตุงุฆูุงุช (5 ุฌุฏุงูู)**
```sql
prayer_tracking         -- ุชุชุจุน ุงูุตููุงุช
quran_reading_tracking  -- ุชุชุจุน ูุฑุงุกุฉ ุงููุฑุขู
dhikr_tracking          -- ุชุชุจุน ุงูุฃุฐูุงุฑ
user_achievements       -- ุงูุฅูุฌุงุฒุงุช ูุงูุดุงุฑุงุช
user_points             -- ุงูููุงุท ูุงููุณุชููุงุช
```

### ๐น **ุฌุฏุงูู ุงูููุถูุงุช (3 ุฌุฏุงูู)**
```sql
favorite_verses         -- ุงูุขูุงุช ุงูููุถูุฉ
favorite_hadith         -- ุงูุฃุญุงุฏูุซ ุงูููุถูุฉ
favorite_azkar          -- ุงูุฃุฐูุงุฑ ุงูููุถูุฉ
```

### ๐น **ุฌุฏุงูู ุงูุฎุทุท ูุงูุฃูุฏุงู (3 ุฌุฏุงูู)**
```sql
spiritual_plans         -- ุงูุฎุทุท ุงูุฅููุงููุฉ
spiritual_tasks         -- ููุงู ุงูุฎุทุท
user_plan_progress      -- ุชูุฏู ุงููุณุชุฎุฏู ูู ุงูุฎุทุท
```

### ๐น **ุฌุฏุงูู ุงูุฅุดุนุงุฑุงุช (2 ุฌุฏุงูู)**
```sql
notifications           -- ุงูุฅุดุนุงุฑุงุช
custom_reminders        -- ุงูุชุฐููุฑุงุช ุงููุฎุตุตุฉ
```

### ๐น **ุฌุฏุงูู ุงููุญุชูู ุงูุชูุงุนูู (3 ุฌุฏุงูู)**
```sql
inspirational_quotes    -- ุงูุงูุชุจุงุณุงุช ุงูุฅููุงููุฉ
educational_content     -- ุงููุญุชูู ุงูุชุนูููู
content_ratings         -- ุชููููุงุช ุงููุญุชูู
```

### ๐น **ุฌุฏุงูู ุงูุชุญูููุงุช (2 ุฌุฏุงูู)**
```sql
daily_usage_stats       -- ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงู ุงูููููุฉ
activity_log            -- ุณุฌู ุงูุฃูุดุทุฉ
```

## ๐ง ุงูุฏูุงู ูุงููุดุบูุงุช

### **ุงูุฏูุงู ุงููุณุงุนุฏุฉ:**
- `calculate_activity_points()` - ุญุณุงุจ ุงูููุงุท
- `update_user_level()` - ุชุญุฏูุซ ูุณุชูู ุงููุณุชุฎุฏู
- `arabic_search()` - ุงูุจุญุซ ุงูุนุฑุจู ุงููุญุณู

### **ุงููุดุบูุงุช ุงูุชููุงุฆูุฉ:**
- `activity_points_trigger` - ุชุญุฏูุซ ุงูููุงุท ุชููุงุฆูุงู
- `set_timestamp_*` - ุชุญุฏูุซ ุงูุชูุงุฑูุฎ ุชููุงุฆูุงู

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### **1. ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ:**
```sql
INSERT INTO users (email, name, age, gender, language) 
VALUES ('user@example.com', 'ุฃุญูุฏ ูุญูุฏ', 25, 'male', 'ar');
```

### **2. ุชุชุจุน ุตูุงุฉ:**
```sql
INSERT INTO prayer_tracking (user_id, prayer_name, prayer_date, performed_at, is_on_time) 
VALUES ('user-uuid', 'fajr', CURRENT_DATE, NOW(), true);
```

### **3. ุฅุถุงูุฉ ุขูุฉ ููุถูุฉ:**
```sql
INSERT INTO favorite_verses (user_id, verse_id, notes) 
VALUES ('user-uuid', 'verse-uuid', 'ุขูุฉ ูุคุซุฑุฉ ุฌุฏุงู');
```

### **4. ุงูุจุญุซ ูู ุงููุฑุขู:**
```sql
SELECT * FROM quran_verses 
WHERE arabic_search(arabic_text, 'ุงูุฑุญูู ุงูุฑุญูู');
```

### **5. ุฅุญุตุงุฆูุงุช ุงููุณุชุฎุฏู:**
```sql
SELECT 
    current_level,
    total_points,
    (SELECT COUNT(*) FROM prayer_tracking WHERE user_id = $1) as total_prayers,
    (SELECT SUM(pages_read) FROM quran_reading_tracking WHERE user_id = $1) as total_pages
FROM user_points 
WHERE user_id = $1;
```

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### **Row Level Security:**
- ูู ูุณุชุฎุฏู ูุฑู ุจูุงูุงุชู ููุท
- ุญูุงูุฉ ูู ุงููุตูู ุบูุฑ ุงููุตุฑุญ
- ุณูุงุณุงุช ุฃูุงู ูุฎุตุตุฉ

### **ุฃููุงุน ุงููุณุชุฎุฏููู:**
- **ูุณุชุฎุฏู ุนุงุฏู**: ูุฑุงุกุฉ ููุชุงุจุฉ ุจูุงูุงุชู ููุท
- **ูุฏูุฑ**: ูุตูู ูููุญุชูู ุงูุนุงู
- **ูุทูุฑ**: ูุตูู ูุงูู ููุชุทููุฑ

## ๐ ุงูุชุญุณููุงุช ูุงูุฃุฏุงุก

### **ุงูููุงุฑุณ ุงูููุดุฃุฉ:**
- ููุงุฑุณ ุงูุจุญุซ ุงููุตู ุงูุนุฑุจู
- ููุงุฑุณ ุงูุชูุงุฑูุฎ ูุงููุนุฑูุงุช
- ููุงุฑุณ ุงููุตูููุงุช ูุงูุนูุงูุงุช
- ููุงุฑุณ ุงูุงุณุชุนูุงูุงุช ุงููุชูุฑุฑุฉ

### **ุชุญุณููุงุช ุงูุฃุฏุงุก:**
- ุงุณุชุนูุงูุงุช ูุญุณูุฉ
- ุชุฎุฒูู ูุคูุช ุฐูู
- ุถุบุท ุงูุจูุงูุงุช
- ุชุญุณูู ุงูุดุจูุฉ

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### **1. ุฑุจุท ุงูุชุทุจูู:**
```typescript
// ุชุญุฏูุซ ููู src/lib/supabase.ts
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = import.meta.env.VITE_SUPABASE_URL
const supabaseKey = import.meta.env.VITE_SUPABASE_ANON_KEY

export const supabase = createClient(supabaseUrl, supabaseKey)
```

### **2. ุฅูุดุงุก ุฎุฏูุงุช ุงูุจูุงูุงุช:**
```typescript
// ุฎุฏูุฉ ุงููุณุชุฎุฏููู
export class UserService {
  static async createUser(userData: UserData) {
    const { data, error } = await supabase
      .from('users')
      .insert(userData)
    return { data, error }
  }
}
```

### **3. ุชุทุจูู ุงูููููุงุช:**
- ุชุญุฏูุซ ููููุงุช ุงูุชุทุจูู ูุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅุถุงูุฉ ูุธุงุฆู ุงูุญูุธ ูุงูุงุณุชุฑุฌุงุน
- ุชุทุจูู ูุธุงู ุงูููุงุท ูุงููุณุชููุงุช

### **4. ุงุฎุชุจุงุฑ ุดุงูู:**
- ุงุฎุชุจุงุฑ ุฌููุน ุงูุนูููุงุช
- ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก
- ุงุฎุชุจุงุฑ ุงูุฃูุงู
- ุงุฎุชุจุงุฑ ุงูุชูุงูู

## ๐ ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ูุชูุงููุฉ ูุดุงููุฉ ุชุฏุนู ุฌููุน ุงุญุชูุงุฌุงุช ูุดุฑูุน ููุงุชูุญ:

โ **25+ ุฌุฏูู** ูุชุฎุตุต
โ **ุจูุงูุงุช ุฅุณูุงููุฉ ููุซูุฉ**
โ **ูุธุงู ุชุชุจุน ุดุงูู**
โ **ุฃูุงู ูุชูุฏู**
โ **ุฃุฏุงุก ูุญุณู**
โ **ุณูููุฉ ุงูุงุณุชุฎุฏุงู**

**ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ุงูููุฑู! ๐**
